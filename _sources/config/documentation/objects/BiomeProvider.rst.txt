=============
BiomeProvider
=============

A biome provider provides a :doc:`/config/documentation/objects/Biome` for any given position in the world. Biome providers
are the main way to determine and configure *where* biomes will generate.

You can use the aptly named `Biome Tool <https://github.com/PolyhedralDev/BiomeTool>` to preview biome distribution defined by your
pack's BiomeProvider. It is recommended to run the Biome Tool from your ``Terra`` directory so that all the addons
and packs you are developing with are loaded by the Biome Tool.


Types
=====

Different types of ``BiomeProvider`` provide different behaviours and may have additional parameters for configuring that behavior.

The type is specified by setting the :bdg-primary:`type` parameter to the name of the type. If the same name is used by two different addons, you can prefix the name with ``ADDON_NAME:`` to specify which one to use.

A list of available types for ``BiomeProvider`` are listed below:

---------

SINGLE
------

:superscript:`*Type requires the 'biome-provider-single' addon to use`

.. _object-biomeprovider-template-biome-provider-single-single-parameter-biome:

:bdg-ref-primary:`biome <object-biomeprovider-template-biome-provider-single-single-parameter-biome>` :doc:`/config/documentation/objects/Biome` 

---------

EXTRUSION
---------

:superscript:`*Type requires the 'biome-provider-extrusion' addon to use`

.. _object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-extrusions:

:bdg-ref-primary:`extrusions <object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-extrusions>` :doc:`/config/documentation/objects/List`\<:doc:`/config/documentation/objects/Extrusion`\> 

.. _object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-provider:

:bdg-ref-primary:`provider <object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-provider>` :doc:`/config/documentation/objects/BiomeProvider` 

.. _object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-resolution:

:bdg-ref-success:`resolution <object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-resolution>` :doc:`/config/documentation/objects/Integer` 

Default: ``4``

---------

IMAGE
-----

:superscript:`*Type requires the 'biome-provider-image-v2' addon to use`

.. _object-biomeprovider-template-biome-provider-image-v2-image-parameter-color-conversion:

:bdg-ref-primary:`color-conversion <object-biomeprovider-template-biome-provider-image-v2-image-parameter-color-conversion>` :doc:`/config/documentation/objects/BiomeColorConverter` 

.. _object-biomeprovider-template-biome-provider-image-v2-image-parameter-color-sampler:

:bdg-ref-primary:`color-sampler <object-biomeprovider-template-biome-provider-image-v2-image-parameter-color-sampler>` :doc:`/config/documentation/objects/ColorSampler` 

.. _object-biomeprovider-template-biome-provider-image-v2-image-parameter-resolution:

:bdg-ref-success:`resolution <object-biomeprovider-template-biome-provider-image-v2-image-parameter-resolution>` :doc:`/config/documentation/objects/Integer` 

Default: ``1``

---------

PIPELINE
--------

:superscript:`*Type requires the 'biome-provider-pipeline-v2' addon to use`

'The pipeline' is a biome provider that distributes biomes procedurally in 2D.

The name comes from the way it operates, there is a 'source' which produces an
initial biome layout, which then flows through successive stages that each modify
the layout in some particular way. The final placement of biomes is determined
by the result after all stages have been applied.

.. image:: /img/config/documentation/pipeline-diagram.png
    :width: 50%
      
Biome layouts can be thought of as images, where there would be biomes instead
of colors for each pixel. Each stage can be thought of as some kind of filter
or effect that is applied to the image.


.. _object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-pipeline.source:

:bdg-ref-primary:`pipeline.source <object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-pipeline.source>` :doc:`/config/documentation/objects/Source` - The initial biome layout.

.. _object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-pipeline.stages:

:bdg-ref-primary:`pipeline.stages <object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-pipeline.stages>` :doc:`/config/documentation/objects/List`\<:doc:`/config/documentation/objects/Stage`\> - A list of stages that are successively applied.

.. _object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-blend.amplitude:

:bdg-ref-success:`blend.amplitude <object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-blend.amplitude>` :doc:`/config/documentation/objects/Float` - The blend strength.

Default: ``0.0``

.. _object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-blend.sampler:

:bdg-ref-success:`blend.sampler <object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-blend.sampler>` :doc:`/config/documentation/objects/NoiseSampler` - A sampler that blends the pixelated effect produced by higher resolutions.

Default: ``Constant 0``

Blending is done using the process of :ref:`domain-warping`.

.. _object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-resolution:

:bdg-ref-success:`resolution <object-biomeprovider-template-biome-provider-pipeline-v2-pipeline-parameter-resolution>` :doc:`/config/documentation/objects/Integer` - A performance parameter that determines the size of each biome 'pixel' in blocks.

Default: ``1``

Increasing this will make the pipeline perform better, but also makes the biome distribution
look more pixelated. A resolution of 1 results in the best quality. Resolutions between 2 and
4 don't have very apparent pixelation when used in conjunction with blending.


Uses
====

Used by 2 parameters:

- :ref:`In EXTRUSION in BiomeProvider <object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-provider>`:

  :bdg-ref-primary:`provider <object-biomeprovider-template-biome-provider-extrusion-extrusion-parameter-provider>` :doc:`/config/documentation/objects/BiomeProvider` 

- :ref:`In base in pack.yml <config-pack.yml-template-base-base-parameter-biomes>`:

  :bdg-ref-primary:`biomes <config-pack.yml-template-base-base-parameter-biomes>` :doc:`/config/documentation/objects/BiomeProvider` - Determines where biomes should generate in the world.