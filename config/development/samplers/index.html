<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Config Documentation" href="../../documentation/index.html" /><link rel="prev" title="Modifying an Existing Pack" href="../modifying-existing-pack.html" />

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/><meta name="generator" content="sphinx-4.3.2, furo 2021.11.23"/>
        <title>Samplers &amp; Noise - Terra Docs</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=7f0192ddeb2adecfbaa87ffbcf67d16358b30bc1" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=0af69da206d614734f649b27d4cdc2dd6c31f41d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/rounded-borders.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/cards.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/code-blocks.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/interpreted-text.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/padding.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/headings.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/admonitions.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/logo.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/content.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/lists.css" />
    
    


<style>
  body {
    --color-code-background: #232629;
  --color-code-foreground: #cccccc;
  --color-admonition-title--important: #ff9100;
  --color-admonition-title-background--important: rgba(255,145,0,.1);
  --color-foreground-primary: #000000;
  --color-foreground-secondary: #333333;
  --font-stack: -apple-system, BlinkMacSystemFont, Segoe UI, Cantarell, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;
  --admonition-font-size: 1rem;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #232629;
  --color-code-foreground: #cccccc;
  --color-foreground-primary: #ffffff;
  --color-foreground-secondary: #dbdbdb;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #232629;
  --color-code-foreground: #cccccc;
  --color-foreground-primary: #ffffff;
  --color-foreground-secondary: #dbdbdb;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Terra Docs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/terra-logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Terra Docs</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../install/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../install/fabric.html">Fabric Installation</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../install/fabric-client-world-creation.html">Fabric Client World Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../install/fabric-server-world-creation.html">Fabric Server World Creation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../install/bukkit.html">Bukkit Installation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../install/bukkit-server-world-creation.html">Bukkit World Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../install/worldmanager-bukkit-world-creation.html">Worldmanager World Creation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../install/versions.html">Versions</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Config Packs</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../community-packs.html">Community Packs</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">Config Development</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.html">Config Development Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config-files.html">Config Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config-data.html">Defining Data in Configs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config-system.html">The Config System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pack-from-scratch/index.html">Creating a Pack from Scratch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modifying-existing-pack.html">Modifying an Existing Pack</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Samplers &amp; Noise</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../documentation/index.html">Config Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../documentation/sampler/index.html">Sampler Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">Terra API</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/intro/index.html">Introduction to the Terra API</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/intro/loading.html">Terra Addon Loading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/intro/development-environment.html">Setting up a Development Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/intro/creating-simple-addon.html">Creating a Simple Addon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/intro/listening-for-an-event.html">Listening for an Event</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/intro/adding-structure.html">Adding a Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/intro/registering-config-type.html">Registering a Config Type</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/concepts/index.html">API Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/manifest-addons.html">Manifest Addons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/dependency-injection.html">Dependency Injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/logging.html">Logging With SLF4J</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/events.html">Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/type-key.html">Type Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/registries.html">Registries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/tectonic.html">Tectonic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/concepts/cloud.html">Registering Commands with Cloud</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="samplers-noise">
<h1>Samplers &amp; Noise<a class="headerlink" href="#samplers-noise" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="../../../_images/noise_preview.png"><img alt="../../../_images/noise_preview.png" class="align-center" src="../../../_images/noise_preview.png" style="width: 100%;"/></a>
<section id="what-is-noise">
<h2>What is Noise?<a class="headerlink" href="#what-is-noise" title="Permalink to this headline">¶</a></h2>
<p>In Terra, noise does not refer to sound you can hear, but rather a series of
<a class="reference external" href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">randomly</a>* generated values. These values are produced by
something we will call a <strong>noise sampler</strong> - which is just a mathematical function that turns an input into a randomized
numeric output.</p>
<div align="center" class="align-center"><div class="graphviz"><object class="graphviz" data="../../../_images/graphviz-1661b3fa40b0a2125f70505cb9061a7ff34973d7.svg" type="image/svg+xml">
<p class="warning">digraph {
    node [shape=record]
    rankdir=LR

    input [label="Input Parameters"]
    sampler [label="Noise Sampler"]
    output [label="Randomized Output (aka 'noise')"]

    input -&gt; sampler
    sampler -&gt; output
}</p></object></div>
</div>
</section>
<section id="why-is-noise-important">
<h2>Why is Noise Important?<a class="headerlink" href="#why-is-noise-important" title="Permalink to this headline">¶</a></h2>
<p>Noise is a central concept in Terra, because just about every random aspect of world generation is influenced by noise
to some degree. Having a basic understanding of noise and how to manipulate it will give you insight into how worlds are
randomly generated by Terra, and is an important skill to have if you want to develop your own config packs.</p>
<p>Before learning how to manipulate noise, you should first have an understanding of the underlying concepts outlined
here. Don’t worry, we won’t throw anything <em>too complicated</em> at you for now! Having a firm grasp on noise will bring you
closer to controlling exactly how world generation will behave, which is why having a foundational understanding is
important.</p>
<p>Here is just a short of list of things heavily influenced by noise in Terra:</p>
<ul class="simple">
<li><p>The placement of biomes in the world.</p></li>
<li><p>How terrain is shaped.</p></li>
<li><p>How flora and trees are distributed.</p></li>
</ul>
</section>
<section id="noise-basics">
<h2>Noise Basics<a class="headerlink" href="#noise-basics" title="Permalink to this headline">¶</a></h2>
<p>Here we will cover some key points is grasping noise in Terra. If you feel like certain concepts are too difficult to
understand, feel free to skim over them for now, and revisit them later.</p>
<section id="demonstration">
<h3>Demonstration<a class="headerlink" href="#demonstration" title="Permalink to this headline">¶</a></h3>
<p>Let’s begin with a demonstration displaying the most basic process of ‘creating’ noise. We will use a theoretical
sampler implementation of a noise algorithm called <a class="reference external" href="https://en.wikipedia.org/wiki/White_noise">*white noise*</a>, and generate some
values with it. Explaining how exactly our <em>white noise</em> sampler creates these values is outside the scope of this
guide, however is not essential in understanding the general idea.</p>
<p>We will perform a couple samples with our sampler, using numbers 1 - 10 as an input, and record the outputs as both a
number and a shade from black to white. <strong>Conventionally, the values outputted by a noise sampler will be within a
range of -1 to 1.</strong> We can visualize the relationship between the value and shade on a number line as such:</p>
<a class="reference internal image-reference" href="../../../_images/basic_example-04.png"><img alt="../../../_images/basic_example-04.png" class="align-center" src="../../../_images/basic_example-04.png" style="width: 75%;"/></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Typically outputs will produce decimals with high precision, however we will round the output to one decimal place for simplicity.
Input numbers also do not have to be whole numbers, this means noise samplers will still work the same way with inputs like <cite>1.5</cite>.
Again we’ve just used integers here for the sake of demonstration.</p>
</div>
<p class="centered">
<strong><strong>Model</strong></strong></p><div align="center" class="align-center"><div class="graphviz"><object class="graphviz" data="../../../_images/graphviz-6fcd14bd19c6263421040419fd2dba95a575f25b.svg" type="image/svg+xml">
<p class="warning">digraph {

    node [shape=record]
    rankdir=LR

    input [label="Input Parameters|Number from 1-10"]
    sampler [label="White Noise Sampler"]
    output [label="Randomized Output\n(within range [-1, 1])"]

    input -&gt; sampler
    sampler -&gt; output
}</p></object></div>
</div>
<p class="centered">
<strong><strong>Results</strong></strong></p><a class="reference internal image-reference" href="../../../_images/basic_example-01.png"><img alt="../../../_images/basic_example-01.png" class="align-center" src="../../../_images/basic_example-01.png" style="width: 75%;"/></a>
<p>Simple, right? All our noise sampler does is convert one value to a randomized value.</p>
</section>
<section id="determinism">
<h3>Determinism<a class="headerlink" href="#determinism" title="Permalink to this headline">¶</a></h3>
<p>One requirement of samplers is that the output must be
<a class="reference external" href="https://en.wikipedia.org/wiki/Deterministic_system">*deterministic*</a>. This just means that given any input, the output must <em>always</em>
be the same. Because of this, we can reliably re-produce any ‘random’ results we get from noise samplers by feeding it the
same input.</p>
<p>Going off the results above, when passing the number <code class="docutils literal notranslate"><span class="pre">5</span></code> to our <em>white noise</em> sampler, we will <em>always</em> get the number
<code class="docutils literal notranslate"><span class="pre">0.4</span></code> back.</p>
</section>
<section id="seeds">
<h3>Seeds<a class="headerlink" href="#seeds" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, we want to use the same input, and same noise sampler, but for multiple random unique outputs. In that case,
we can use a seed in our noise sampler. Seeds are basically a way of getting a whole new uncorrelated set of random
values from the same inputs + noise sampler. Unlike the input value, seeds must be a whole number, meaning <code class="docutils literal notranslate"><span class="pre">5324</span></code> would
be a valid seed, but <code class="docutils literal notranslate"><span class="pre">231.23</span></code> would not.</p>
<p>Expanding on our basic model of noise generation we have:</p>
<div align="center" class="align-center"><div class="graphviz"><object class="graphviz" data="../../../_images/graphviz-1b77b0488d996d12e2d105850280cf65b114fab9.svg" type="image/svg+xml">
<p class="warning">digraph {

   node [shape=record]
   rankdir=LR

   input [label="Input Parameters|{Seed|Input Value}"]
   sampler [label="Noise Sampler"]
   output [label="Randomized Output"]

   input -&gt; sampler
   sampler -&gt; output
}</p></object></div>
</div>
<p>Here is an example using two different seeds to produce different outputs, using the same inputs and noise sampler from
the example above.</p>
<p class="centered">
<strong><strong>Seed = 0</strong></strong></p><a class="reference internal image-reference" href="../../../_images/basic_example-01.png"><img alt="../../../_images/basic_example-01.png" class="align-center" src="../../../_images/basic_example-01.png" style="width: 75%;"/></a>
<p class="centered">
<strong><strong>Seed = 1</strong></strong></p><a class="reference internal image-reference" href="../../../_images/basic_example-02.png"><img alt="../../../_images/basic_example-02.png" class="align-center" src="../../../_images/basic_example-02.png" style="width: 75%;"/></a>
<p>One usage of seeds that you might be familiar with is minecraft world seeds. A vanilla minecraft world seed gets
inserted into the many noise algorithms that govern vanilla world generation, resulting in completely different worlds
per seed (since each noise algorithm will return a completely new set of values for each unique seed). Combined with
<a class="reference external" href="#determinism">determinism</a>, we’re able to produce new unique randomized worlds by picking a random seed, while also
being able to generate the exact same world* provided we use the same seed.</p>
<div class="tip admonition">
<p class="admonition-title">Vanilla World Generation Trivia</p>
<p>In previous versions of Minecraft, Some noise algorithms used the same seed for every world (meaning they don’t factor
in the world seed), which resulted in every world generating a certain characteristic the exact same way. One notable
example - the algorithm that controls bedrock formation used a static seed for every world, leading every world to
share the same random configuration of bedrock.</p>
</div>
<p>Within Terra, all samplers use a combination of the world seed and a value called <strong>salt</strong>, to determine its own seed.
Salt is a number you can specify when defining noise sampler configurations, and simply gets added to the world seed.
This allows multiple noise samplers to produce different sets of output values, while sharing the same noise algorithm.</p>
</section>
<section id="flavors-of-noise">
<h3>Flavors of Noise<a class="headerlink" href="#flavors-of-noise" title="Permalink to this headline">¶</a></h3>
<p>There are many variants and implementations of noise samplers, such as our <em>white noise</em> sampler above. Each has their
own quirks, behaviors, and applications, however in general they all follow the same basic principles outlined here. We
will cover a couple of these variants later down the line, including samplers that don’t necessarily produce random
noise.</p>
<p>Here is a small list of notable noise algorithms that are commonly used in Terra noise samplers:</p>
<ul class="simple">
<li><p>Simplex Noise</p></li>
<li><p>Cellular / Voronoi / Worley Noise</p></li>
<li><p>White Noise</p></li>
<li><p>Value Noise</p></li>
</ul>
</section>
<section id="multidimensional-sampling">
<h3>Multidimensional Sampling<a class="headerlink" href="#multidimensional-sampling" title="Permalink to this headline">¶</a></h3>
<p>The phrase ‘multidimensional noise’ may sound intimidating, but don’t worry, it’s a fairly simple concept to understand.
Simply put, multidimensional noise involves providing <strong>multiple</strong> input values per ‘sample’, rather than just one. In every example
thus far, we have only provided one value for each noise <em>‘sample’</em> (excluding the seed), meaning we are conceptually
only sampling in one dimension, however we can go further.</p>
<p>The simplest example of multidimensional noise is just adding one extra input to our noise sampler, for a grand total
of 2 inputs. Conveniently, that gives us 2 dimensions, thus we can easily display a set of 2D samples in a grid. We will
refer to the first input as <code class="docutils literal notranslate"><span class="pre">X</span></code>, and the second as <code class="docutils literal notranslate"><span class="pre">Z</span></code>.</p>
<p>In a new example, let’s use a range of 1 - 3 for both <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Z</span></code>, giving us a total of 9 samples (3 x 3). We will only
label the <code class="docutils literal notranslate"><span class="pre">X</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Z</span></code> axes for the sake of simplicity.</p>
<p class="centered">
<strong><strong>Two Dimensional Model</strong></strong></p><div align="center" class="align-center"><div class="graphviz"><object class="graphviz" data="../../../_images/graphviz-dc97d2e98dea5b46f8175655b648474eb89b3bf4.svg" type="image/svg+xml">
<p class="warning">digraph {

   node [shape=record]
   rankdir=LR

   input [label="Input Parameters|{Seed|X|Z}"]
   sampler [label="White Noise Sampler"]
   output [label="Output Noise|Displayed as a 2D grid of shades"]

   input -&gt; sampler
   sampler -&gt; output
}</p></object></div>
</div>
<p class="centered">
<strong><strong>Results</strong></strong></p><a class="reference internal image-reference" href="../../../_images/basic_example-03.png"><img alt="../../../_images/basic_example-03.png" class="align-center" src="../../../_images/basic_example-03.png" style="width: 300px;"/></a>
<p>As you can see, all we have done is added another dimension to our white noise sampler, allowing for noise to be
depicted as a 2D grid, rather than a list of values.</p>
<p>Taking this experiment further, let’s use a larger sample size of 64 x 64:</p>
<img alt="../../../_images/whitenoise64x64.png" class="align-center" src="../../../_images/whitenoise64x64.png"/>
<p>What we have done here is essentially produced a random image using our <em>white noise</em> sampler. By default, we will
assume the above format of visualizing noise in 2D as an image, where each output value represents a grayscale pixel.</p>
<section id="higher-dimensions">
<h4>Higher Dimensions<a class="headerlink" href="#higher-dimensions" title="Permalink to this headline">¶</a></h4>
<p>Many noise algorithms support an arbitrary amount of inputs, meaning that we can sample noise in any number of
dimensions. Typically, we will only use up to three dimensions in Terra, where each input corresponds to the position on
each axis <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Y</span></code>, and <code class="docutils literal notranslate"><span class="pre">Z</span></code>.</p>
</section>
</section>
<section id="segmentation">
<h3>Segmentation<a class="headerlink" href="#segmentation" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Image_segmentation">Segmentation</a> in this context refers to splitting a set of values
into several parts based on the range each value fits in to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is not a concept specific to noise, but is something to keep in mind, as it is commonly used in conjunction with
noise and world generation.</p>
</div>
<p>The simplest form of segmentation is <strong>thresholding</strong>, which simply involves <em>separating a set of values into two groups
based on whether they’re higher or lower than a number</em>. An example of thresholding would be outputting a value of <code class="docutils literal notranslate"><span class="pre">-1</span></code>
for input values less than <code class="docutils literal notranslate"><span class="pre">0</span></code>, and outputting a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> for every other input, however the output could be
anything, such as <code class="docutils literal notranslate"><span class="pre">true</span> <span class="pre">/</span> <span class="pre">false</span></code> depending on use.</p>
<p>Applying a threshold to every pixel of an image where <code class="docutils literal notranslate"><span class="pre">input</span> <span class="pre">=</span> <span class="pre">intensity</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">pixel</span></code>, <code class="docutils literal notranslate"><span class="pre">output</span> <span class="pre">=</span> <span class="pre">either</span> <span class="pre">a</span> <span class="pre">black</span> <span class="pre">or</span>
<span class="pre">white</span> <span class="pre">pixel</span></code>, and <code class="docutils literal notranslate"><span class="pre">threshold</span> <span class="pre">=</span> <span class="pre">50%</span></code>, we get the following result:</p>
<img alt="../../../_images/threshold_example.png" src="../../../_images/threshold_example.png"/>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<p class="sd-card-text">We can represent thresholding mathematically as a <a class="reference external" href="https://en.wikipedia.org/wiki/Piecewise">piecewise</a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="o">-</span><span class="mi">1</span>   <span class="k">if</span>   <span class="n">x</span> <span class="o">&lt;</span>  <span class="n">threshold</span>
   <span class="mi">1</span>   <span class="k">if</span>   <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">threshold</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="sd-card-text">Most applications of segmentation in Terra are essentially fancy piecewise functions like the one above, written
programmatically.</p>
</div>
</div>
<p>Segmentation is a useful concept to understand when combined with noise, as it allows us to split noise into
distinct values. We will cover an example of segmented noise and an application of it in the following section.</p>
</section>
</section>
<section id="applying-noise-to-world-generation">
<h2>Applying Noise to World Generation<a class="headerlink" href="#applying-noise-to-world-generation" title="Permalink to this headline">¶</a></h2>
<p>You might be wondering: <em>How does this information translate to generating an entire world?</em> Before we jump straight
from simple noise generation to generating entire worlds, let’s just keep it simple and apply the knowledge we’ve
covered thus far to a simple application.</p>
<section id="planting-grass">
<h3>Planting Grass<a class="headerlink" href="#planting-grass" title="Permalink to this headline">¶</a></h3>
<p>Let’s say we have a patch of land, and we want to generate some tall grass on it, how would we determine where the grass
goes? The first thing we will want to do is define some basic rules for generating grass, before we get to the part
where noise is involved:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Grass</span></code> may only generate on top of <code class="docutils literal notranslate"><span class="pre">Grass</span> <span class="pre">Blocks</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Grass</span></code> may only replace <code class="docutils literal notranslate"><span class="pre">Air</span></code>.</p></li>
</ul>
<p>Simple enough, now we know that grass will only generate where appropriate. With only these rules however, we would end
up with grass on top of every single grass block! What if we only wanted it on <em>some</em> grass blocks? Well we can use our
<em>white noise</em> sampler for that!</p>
<p>For each block in the area grass will generate, we’ll feed the X &amp; Z world coordinates as well as the world seed into our
<em>2D white noise</em> sampler. This will provide us a random value (from -1 to 1 as discussed) for each block . We will then use
that output value to determine whether we place some grass or not. The way this will be determined is by simply
<a class="reference external" href="#segmentation">thresholding</a> it! We’ll start with a threshold of <code class="docutils literal notranslate"><span class="pre">0</span></code>, where any value below our threshold will mean
<code class="docutils literal notranslate"><span class="pre">place</span> <span class="pre">grass</span></code>.</p>
<p class="centered">
<strong><strong>Grass Placement Model</strong></strong></p><div align="center" class="align-center"><div class="graphviz"><object class="graphviz" data="../../../_images/graphviz-372ba5cc3818fe14e499ef2cceb650439c65bd92.svg" type="image/svg+xml">
<p class="warning">digraph {
    node [shape=record]

    input [label="Input Parameters|{World Seed|X Coordinate|Y Coordinate}"]
    sampler [label="White Noise Sampler"]
    output [label="{Randomized Output|A value from -1 to 1}"]
    thresholdfunction [label="Threshold Function|If below the threshold, place grass.\n(Displayed as a green pixel)"]

    input -&gt; sampler
    sampler -&gt; output
    output -&gt; thresholdfunction
}</p></object></div>
</div>
<p class="centered">
<strong><strong>Results</strong></strong></p><img alt="../../../_images/grass_64x64_50pcthreshold.png" class="align-center" src="../../../_images/grass_64x64_50pcthreshold.png"/>
<p>As you can see, we now have a method of randomly determining if grass should be placed or not for any given
<a class="reference external" href="#multidimensional-noise">X-Z coordinate</a> in <a class="reference external" href="#seeds">any world</a>. We can even reduce / increase how much grass we get by
modifying our threshold value:</p>
<p class="centered">
<strong><strong>Threshold = -0.25</strong></strong></p><img alt="../../../_images/grass_64x64_25pcthreshold.png" class="align-center" src="../../../_images/grass_64x64_25pcthreshold.png"/>
<p>Lowering the threshold from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">-0.25</span></code> results in less grass because we are effectively removing the values between
<code class="docutils literal notranslate"><span class="pre">-0.25</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code> from falling below the threshold. Conversely, <em>increasing</em> the threshold will result in more grass, as
more values will fall below the threshold.</p>
<p>Combining this with our rules we established earlier, we now have a method of checking for any block whether it should
be grass or not.</p>
<a class="reference internal image-reference" href="../../../_images/grass.png"><img alt="../../../_images/grass.png" class="align-center" src="../../../_images/grass.png" style="width: 75%;"/></a>
</section>
</section>
<section id="coherent-noise">
<h2>Coherent Noise<a class="headerlink" href="#coherent-noise" title="Permalink to this headline">¶</a></h2>
<p>Thus far, we have only covered noise that outputs seemingly random tv-static-like values, which is fine for simple
applications like the grass example above. But how can we get noise capable of producing smooth rolling hills, vast
mountains, and other structured random generation? Let’s place the white noise sampler under the category
<strong>‘random noise’</strong>, and introduce a new category of noise samplers called <strong>‘coherent noise’</strong>.</p>
<section id="what-s-the-difference">
<h3>What’s The Difference?<a class="headerlink" href="#what-s-the-difference" title="Permalink to this headline">¶</a></h3>
<p>The main difference that separates <em>random noise</em> from <em>coherent noise</em> is that while random noise samplers produce
noise with no apparent structure, coherent noise samplers produce <em>‘structured’</em> noise, where adjacent input values
produce similar output values.</p>
<p>To get a better idea of the difference, here is a visualization of two different 2D sampled noise samplers that both
share the same inputs:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-auto docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>Random</strong></strong></p><img alt="../../../_images/whitenoise64x64.png" src="../../../_images/whitenoise64x64.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>Coherent</strong></strong></p><img alt="../../../_images/opensimplex2_64x64.png" src="../../../_images/opensimplex2_64x64.png"/>
</div>
</div>
</div>
<p>As you can see, the coherent noise example has a discernible structure where output values are smooth, compared to the
random noise example where there’s no apparent structure. The coherent noise algorithm used in the sampler above is known as
<strong>simplex noise</strong>, and is one of the many flavors of noise provided in Terra.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Categorization of Noise Samplers</div>
<ul class="simple">
<li><dl class="simple">
<dt>Noise Samplers</dt><dd><ul>
<li><dl class="simple">
<dt>Random Noise Samplers</dt><dd><ul>
<li><p class="sd-card-text">White Noise</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coherent Noise Samplers</dt><dd><ul>
<li><p class="sd-card-text">Simplex Noise</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
</section>
</section>
<section id="noise-segmentation">
<h2>Noise Segmentation<a class="headerlink" href="#noise-segmentation" title="Permalink to this headline">¶</a></h2>
<p>Now that we have introduced coherent noise, we can provide a better visual example of noise
<a class="reference external" href="#segmentation">segmentation</a>. Let’s use the following list of colors and distribute them across a noise sampler
via segmentation:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">colors</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Red</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Yellow</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Green</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Blue</span><span class="w"></span>
</pre></div>
</div>
<p>Since we know that <a class="reference external" href="#demonstration">noise sampler outputs will generally be between -1 and 1</a>, we will need to assign each
color its own a range <em>within</em> the output range <code class="docutils literal notranslate"><span class="pre">[-1,</span> <span class="pre">1]</span></code>. To do this, it’s helpful to visualize things on a number
line like so:</p>
<a class="reference internal image-reference" href="../../../_images/basic_example-05.png"><img alt="../../../_images/basic_example-05.png" src="../../../_images/basic_example-05.png" style="width: 75%;"/></a>
<p>From this we can intuitively see that <code class="docutils literal notranslate"><span class="pre">blue</span></code> corresponds to the range <code class="docutils literal notranslate"><span class="pre">[-1,</span> <span class="pre">0.5]</span></code>, <code class="docutils literal notranslate"><span class="pre">green</span></code> to <code class="docutils literal notranslate"><span class="pre">[-0.5,</span> <span class="pre">0]</span></code> and so on.
Thankfully, you won’t ever have to define every range required for segmentation by hand, as Terra will automatically
segment noise for you, but it’s still useful to get an idea of what is happening behind the scenes. Let’s finally
segment some <em>simplex noise</em> by categorizing the output values into our colors based on the range they fit in.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-auto docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>Raw Noise Values</strong></strong></p><img alt="../../../_images/opensimplex2_64x64.png" src="../../../_images/opensimplex2_64x64.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>Segmented Noise</strong></strong></p><img alt="../../../_images/posterized_opensimplex2_64x64.png" src="../../../_images/posterized_opensimplex2_64x64.png"/>
</div>
</div>
</div>
<p>This is where the usefulness of segmentation comes in - <em>we can treat these colors as anything</em>, whether that is a set
of biomes, a pattern of blocks, or anything else that requires a list and a sampler. For example, <code class="docutils literal notranslate"><span class="pre">red</span></code> could
represent a tropical island biome, <code class="docutils literal notranslate"><span class="pre">yellow</span></code> a beach, <code class="docutils literal notranslate"><span class="pre">green</span></code> shallow ocean, and <code class="docutils literal notranslate"><span class="pre">blue</span></code> deep ocean. Generally lists like
this will be defined as a <a class="reference external" href="./Weighted-Pools">weighted pool</a> such that you can easily weigh certain items to take up more
space as needed. As an example, here is what our new biome list may look like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">biomes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">TROPICAL_ISLAND</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">BEACH</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">SHALLOW_OCEAN</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">DEEP_OCEAN</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="generalizing-the-sampler">
<h2>Generalizing the Sampler<a class="headerlink" href="#generalizing-the-sampler" title="Permalink to this headline">¶</a></h2>
<p>So far, we have defined the concept of a ‘<em>noise</em> sampler’ as something that takes numerical inputs and a seed, and
produces a numerical output dubbed ‘noise’. We can make a more generalized definition of a <strong>sampler</strong> that encapsulates
noise samplers:</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<em>Sampler</em></div>
<p class="sd-card-text">A function that takes a <a class="reference external" href="#seeds">seed</a> and <a class="reference external" href="#multidimensional-sampling">dimensional coordinates</a>, and
outputs a numerical value.</p>
</div>
</div>
<p>In a practical sense, samplers provide a way of mapping a set of world coordinates in any given world (based on the
seed) to a set of numerical values.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Categorization of Samplers</div>
<ul class="simple">
<li><dl class="simple">
<dt>Samplers</dt><dd><ul>
<li><dl class="simple">
<dt>Noise Samplers</dt><dd><ul>
<li><dl class="simple">
<dt>Random Noise Samplers</dt><dd><ul>
<li><p class="sd-card-text">White Noise</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coherent Noise Samplers</dt><dd><ul>
<li><p class="sd-card-text">Simplex Noise</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
</section>
<section id="configuring-samplers">
<h2>Configuring Samplers<a class="headerlink" href="#configuring-samplers" title="Permalink to this headline">¶</a></h2>
<p>Now that we have covered some essential topics regarding samplers and noise, let’s talk about creating, configuring, stretching,
squishing, tweaking, and remixing it!</p>
<a class="reference internal image-reference" href="../../../_images/rocky_noise.png"><img alt="../../../_images/rocky_noise.png" class="align-center" src="../../../_images/rocky_noise.png" style="width: 100%;"/></a>
<section id="sampler-configs">
<h3>Sampler Configs<a class="headerlink" href="#sampler-configs" title="Permalink to this headline">¶</a></h3>
<p>So how exactly does this information apply to Terra configuration? This is where we will introduce
<strong>sampler configs</strong>. When configuring <a class="reference external" href="./Config-Packs">config packs</a> many options will require a sampler config. The simplest
sampler config just requires a <code class="docutils literal notranslate"><span class="pre">type</span></code>, which defines what kind of sampler to use.</p>
<p>Here what that would look like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Sampler Type&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>We can bring back our <em>white noise</em> sampler from earlier, which has type <code class="docutils literal notranslate"><span class="pre">WHITE_NOISE</span></code>, and insert it into the template
above, giving us the following sampler config:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WHITE_NOISE</span><span class="w"></span>
</pre></div>
</div>
<section id="sampler-parameters">
<h4>Sampler Parameters<a class="headerlink" href="#sampler-parameters" title="Permalink to this headline">¶</a></h4>
<p>In addition to specifying the type of sampler to use, the <code class="docutils literal notranslate"><span class="pre">type</span></code> key will also determine what other keys become available
as either <em>required</em> or <em>optional</em> within the sampler config. Some <code class="docutils literal notranslate"><span class="pre">type</span></code>s will have additional keys that need to be
specified to function properly, and others like <code class="docutils literal notranslate"><span class="pre">WHITE_NOISE</span></code> don’t require anything extra.</p>
<p id="sampler-salt">One example of an <em>optional</em> key available when specifying the <code class="docutils literal notranslate"><span class="pre">WHITE_NOISE</span></code> type is <code class="docutils literal notranslate"><span class="pre">salt</span></code>. The function of salt is
covered <a class="reference external" href="#seeds">here</a> if you need a refresher. Here is what the above example looks like with the <code class="docutils literal notranslate"><span class="pre">salt</span></code> key added:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WHITE_NOISE</span><span class="w"></span>
<span class="nt">salt</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2321</span><span class="w"></span>
</pre></div>
</div>
<p>Another thing to note is that most optional parameters have a pre-defined default value that’s set when not specified.
When the <code class="docutils literal notranslate"><span class="pre">salt</span></code> key is not included in a sampler config, it will default to its predefined value <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</section>
<section id="noise-tool">
<h4>Noise Tool<a class="headerlink" href="#noise-tool" title="Permalink to this headline">¶</a></h4>
<p>Now that we know how to write a simple sampler config, we can use a handy program aptly named the <strong>Noise Tool</strong> to
preview what our config looks like.</p>
<a class="reference internal image-reference" href="../../../_images/noise_tool.png"><img alt="../../../_images/noise_tool.png" class="align-center" src="../../../_images/noise_tool.png" style="width: 100%;"/></a>
<p>The Noise Tool was specially designed for creating, previewing, and modifying samplers, and is also what was used
to generate every image of noise used on this page. You can find the Noise Tool on GitHub -
<a class="reference external" href="https://github.com/PolyhedralDev/NoiseTool">Source</a> / <a class="reference external" href="https://github.com/PolyhedralDev/NoiseTool/releases">Download</a></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We suggest that you follow along the rest of this section with the Noise Tool, so you can try out parameters get the
hang of writing your own sampler configs. Playing around and experimenting on your own is a great way of learning what
each parameter does, and will give you an intuition on how you can fine tune them to your advantage.</p>
</div>
<p>For a complete list of sampler <code class="docutils literal notranslate"><span class="pre">type</span></code>s and their parameters available in Terra, please refer to the
<a class="reference internal" href="../../documentation/sampler/index.html"><span class="doc">Sampler Configuration</span></a> page.</p>
</section>
</section>
<section id="frequency">
<span id="sampler-frequency"></span><h3>Frequency<a class="headerlink" href="#frequency" title="Permalink to this headline">¶</a></h3>
<p>You might be wondering how we control just how large or how small details produced by samplers are - This is
where the concept of <strong>frequency</strong> comes in. Frequency is a number that modifies the ‘scale’ of sampler outputs, where higher
frequency produces more ‘zoomed out’ outputs, while lower frequency results in more ‘zoomed in’ outputs.</p>
<p>Let’s preview some comparisons of a simplex noise sampler with varying frequencies:</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-3 sd-row-cols-xs-3 sd-row-cols-sm-3 sd-row-cols-md-3 sd-row-cols-lg-3 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>2x Frequency</strong></strong></p><img alt="../../../_images/opensimplex2_64x64_freq_double.png" src="../../../_images/opensimplex2_64x64_freq_double.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>1x Frequency</strong></strong></p><img alt="../../../_images/opensimplex2_64x64.png" src="../../../_images/opensimplex2_64x64.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>0.5x Frequency</strong></strong></p><img alt="../../../_images/opensimplex2_64x64_freq_half.png" src="../../../_images/opensimplex2_64x64_freq_half.png"/>
</div>
</div>
</div>
<p>As a general rule of thumb:</p>
<p><strong>Higher Frequency</strong></p>
<ul class="simple">
<li><p>Zooms <em>out</em>.</p></li>
<li><p>Produces <em>smaller</em> &amp; <em>closer</em> details.</p></li>
<li><p>Increases the density of ‘points’ per unit of space.</p></li>
</ul>
<p><strong>Lower Frequency</strong></p>
<ul class="simple">
<li><p>Zooms <em>in</em>.</p></li>
<li><p>Produces <em>larger</em> &amp; <em>more spread out</em> details.</p></li>
<li><p>Decreases the density of ‘points’ per unit of space.</p></li>
</ul>
<section id="in-a-sampler-config">
<h4>In a Sampler Config<a class="headerlink" href="#in-a-sampler-config" title="Permalink to this headline">¶</a></h4>
<p>Frequency can be defined for applicable <code class="docutils literal notranslate"><span class="pre">types</span></code>s via the <code class="docutils literal notranslate"><span class="pre">frequency</span></code> key like so:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Sampler Type&gt;</span><span class="w"></span>
<span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Desired Frequency&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>Something to note is that tweaking frequency is only really useful for samplers in the
<a class="reference external" href="#coherent-noise">coherent noise</a> category. You’re able to modify the frequency of random noise based samplers, however
they don’t have the property of being able to scale like coherent noise samplers do. There isn’t much reason to scale
the frequency of a random noise sampler, as doing so functionally has same effect as changing the seed.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Under The Hood - How frequency works<div class="sd-summary-down docutils">
<svg aria-hidden="true" class="sd-octicon sd-octicon-chevron-down" height="1.5em" version="1.1" viewbox="0 0 24 24" width="1.5em"><path d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z" fill-rule="evenodd"></path></svg></div>
<div class="sd-summary-up docutils">
<svg aria-hidden="true" class="sd-octicon sd-octicon-chevron-up" height="1.5em" version="1.1" viewbox="0 0 24 24" width="1.5em"><path d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z" fill-rule="evenodd"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">The math behind frequencies is very simple: <em>multiply the input coordinates of a sampler by the
frequency</em>. Here is a model of the process:</p>
<div align="center" class="align-center"><div class="graphviz"><object class="graphviz" data="../../../_images/graphviz-cd5c858f65d39b2f19e5515549a0c3f6a161674d.svg" type="image/svg+xml">
<p class="warning">digraph {
    nodesep=1
    overlap=false
    node [shape=record]

    input [label="{Inputs|{&lt;s&gt; Seed|&lt;x&gt; X Coordinate|&lt;z&gt;Z Coordinate}}"]
    samplerparams [label="{Sampler Parameters|&lt;f&gt; Frequency}"]
    sampler [label="Noise Algorithm"]
    output [label="Randomized Output"]
    transform [label="&lt;x&gt; X * Frequency|&lt;z&gt; Z * Frequency"]

    sampler -&gt; output

    input:s -&gt; sampler
    samplerparams:f -&gt; transform:x,transform:z
    input:x -&gt; transform:x -&gt; sampler
    input:z -&gt; transform:z -&gt; sampler
}</p></object></div>
</div>
<p class="sd-card-text">For example, if we have a frequency of <cite>2</cite>, and want to sample the coordinates <cite>(X = 3, Z = 2)</cite>, first the coordinates
will be multiplied by the frequency <cite>2</cite>, giving us the scaled coordinates <cite>(X’ = 6, Z’ = 4)</cite>. This new set of
coordinates will then be input into the sampler which will then give us the final output value.</p>
<p class="sd-card-text">Based on this logic, we can deduct that the input:</p>
<p class="sd-card-text"><cite>(X = 3, Z = 2, Frequency = 2)</cite></p>
<p class="sd-card-text">Will give the exact same output when inputting:</p>
<p class="sd-card-text"><cite>(X = 6, Z = 4, Frequency = 1)</cite></p>
<p class="sd-card-text">Higher frequencies effectively produce <em>faster changes</em> when incrementing input coordinates, which is why higher
frequencies make details closer and therefore smaller.</p>
<p class="sd-card-text">This concept in geometry is known simply as <a class="reference external" href="https://en.wikipedia.org/wiki/Scaling_(geometry)">scaling</a>, and can also be
thought of as applying a scale transformation to the coordinate space of the world before passing it into the sampler.</p>
</div>
</details></section>
</section>
<section id="samplers-in-context">
<h3>Samplers In Context<a class="headerlink" href="#samplers-in-context" title="Permalink to this headline">¶</a></h3>
<p>To get a better idea of how sampler configs get used in packs, Here is what one looks like in the context of a
<a class="reference external" href="./Palette-Configuration">palette configuration</a>. The sampler config is highlighted.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DIRTY_GRASS</span><span class="w"></span>
<span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Single layer of grass and dirt blocks</span><span class="w"></span>
<span class="w">    </span><span class="nt">layers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">materials</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"minecraft:grass_block"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"minecraft:coarse_dirt"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="hll"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span><span class="w"></span>
</span><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Two layers of dirt below the top layer</span><span class="w"></span>
<span class="w">    </span><span class="nt">layers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">    </span><span class="nt">materials</span><span class="p">:</span><span class="w"> </span><span class="s">"minecraft:dirt"</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Then finally stone</span><span class="w"></span>
<span class="w">    </span><span class="nt">layers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">materials</span><span class="p">:</span><span class="w"> </span><span class="s">"minecraft:stone"</span><span class="w"></span>
</pre></div>
</div>
<p>The usage of noise here controls the arrangement of the <a class="reference external" href="./Weighted-Pools">weighted pool</a> of materials.
To get a better idea of the relationship, here is a screenshot of a biome which uses the above palette
configuration:</p>
<img alt="../../../_images/palette_example.png" src="../../../_images/palette_example.png"/>
<p>This is also another great example of <a class="reference external" href="#noise-segmentation">noise segmentation</a> in action with weighted pools. You can
see our <code class="docutils literal notranslate"><span class="pre">OPEN_SIMPLEX_2</span></code> sampler has been segmented equally between grass blocks and dirt, giving us a nice random
pattern of surface blocks in the biome.</p>
</section>
<section id="fractalization">
<h3>Fractalization<a class="headerlink" href="#fractalization" title="Permalink to this headline">¶</a></h3>
<p>In some situations, <a class="reference external" href="#coherent-noise">coherent noise</a> on its own may be far too smooth and uniform to produce
‘<em>realistic</em>’ results. Looking at the images above, you may notice plain simplex is quite <em>blobby</em>, which may not be
desired for applications where more detail is required. This is where <strong>fractalizers</strong> come in handy.</p>
<p>The premise of fractalization is that we can produce more detail by combining the outputs of multiple of the same sampler
together, where each successive sampler (called an <strong>octave</strong>) has a higher <a class="reference external" href="#frequency">frequency</a> and a
scaled down output value (making it contribute less to the overall output). This process of progressively stacking
incrementally smaller layers to produce a <a class="reference external" href="https://en.wikipedia.org/wiki/Fractal">fractal</a> effect is referred to
as <a class="reference external" href="https://en.wikipedia.org/wiki/Fractional_Brownian_motion">fractal Brownian motion</a> (Commonly abbreviated as fBm).</p>
<p>It might sound quite complicated in writing, so we can demonstrate this concept visually to get a better idea of what’s
happening:</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-4 sd-row-cols-xs-4 sd-row-cols-sm-4 sd-row-cols-md-4 sd-row-cols-lg-4 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>No Fractalization</strong></strong></p><img alt="../../../_images/opensimplex2_1_octave.png" src="../../../_images/opensimplex2_1_octave.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>2 Octaves</strong></strong></p><img alt="../../../_images/opensimplex2_2_octaves.png" src="../../../_images/opensimplex2_2_octaves.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>3 Octaves</strong></strong></p><img alt="../../../_images/opensimplex2_3_octaves.png" src="../../../_images/opensimplex2_3_octaves.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>4 Octaves</strong></strong></p><img alt="../../../_images/opensimplex2_4_octaves.png" src="../../../_images/opensimplex2_4_octaves.png"/>
</div>
</div>
</div>
<p>As you can see, the more octaves we add, the more detailed the noise gets. This is the main application of fractalization -
to produce more detail, especially at lower frequencies where detail is sparse. You won’t have to worry about
the exact math behind how each octave gets stacked, as Terra will handle all of that for you.</p>
<section id="id8">
<h4>In a Sampler Config<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>When fractalizing sampler configs, we define the fractalizer as <em>its own sampler config</em>, which takes <em>the target sampler config</em>
as a parameter. The syntax for this is as followed:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Fractalizer Type&gt;</span><span class="w"></span>
<span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"> </span><span class="c1"># Sampler config to be fractalized</span><span class="w"></span>
</pre></div>
</div>
<p>As you can see, we have the main sampler config for our fractalizer, and a second sampler config <em>nested</em> inside under the
<code class="docutils literal notranslate"><span class="pre">sampler</span></code> key. The <code class="docutils literal notranslate"><span class="pre">sampler</span></code> key is the only <strong>required</strong> parameter for all fractalizers.</p>
<p>Based on this template, we can create a real sampler config. Let’s use the <code class="docutils literal notranslate"><span class="pre">FBM</span></code> fractalizer, with an input sampler with
<code class="docutils literal notranslate"><span class="pre">type</span></code> <code class="docutils literal notranslate"><span class="pre">OPEN_SIMPLEX_2</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FBM</span><span class="w"></span>
<span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
</pre></div>
</div>
<p>Pretty simple, all we’ve done is passed some <em>simplex noise</em> into the <em>FBM</em> sampler. Fractalizers have a couple
additional parameters, including <code class="docutils literal notranslate"><span class="pre">octaves</span></code>, <code class="docutils literal notranslate"><span class="pre">lacunarity</span></code>, and <code class="docutils literal notranslate"><span class="pre">gain</span></code>. Here is another example config with those
parameters already defined:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FBM</span><span class="w"></span>
<span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
<span class="nt">octaves</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"></span>
<span class="nt">lacunarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="nt">gain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.75</span><span class="w"></span>
</pre></div>
</div>
<p>Feel free to preview this config in the <a class="reference external" href="#noise-tool">Noise Tool</a>, and have an experiment with each parameter to see
what they all do. To see all available fractalizers and their parameters, please refer to the
<a class="reference internal" href="../../documentation/sampler/index.html"><span class="doc">Sampler Configuration</span></a> page.</p>
</section>
</section>
<section id="domain-warping">
<span id="id10"></span><h3>Domain Warping<a class="headerlink" href="#domain-warping" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../../../_images/overwarped.png"><img alt="../../../_images/overwarped.png" class="align-center" src="../../../_images/overwarped.png" style="width: 100%;"/></a>
<p>Similar to fractalization, domain warping involves manipulating the input, aka the <em>domain</em> , before it’s passed to the
sampler. More specifically, the domain of a sampler will be warped via translation by the output of a
secondary warping sampler.</p>
<p>To demonstrate domain warping more clearly, let’s take a 64 x 64 square of samples in a space. Our sampler <em>to be
warped</em> will be a checkerboard pattern, and our <em>warping sampler</em> will be some basic simplex noise.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-auto docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>Sampler To Be Warped</strong></strong></p><img alt="../../../_images/checkerboard.png" class="align-center" src="../../../_images/checkerboard.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p class="centered">
<strong><strong>Warping Sampler</strong></strong></p><img alt="../../../_images/simplex_warp.png" class="align-center" src="../../../_images/simplex_warp.png"/>
</div>
</div>
</div>
<p>When domain warping the checker board sampler by the simplex we get the following result:</p>
<img alt="../../../_images/checkerboard_warped.png" class="align-center" src="../../../_images/checkerboard_warped.png"/>
<p>As you can see, our once perfectly square boxes have been contorted out of shape by the warp sampler.</p>
<section id="id11">
<h4>In a Sampler Config<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>To use domain warping, we will need to set the <code class="docutils literal notranslate"><span class="pre">type</span></code> to <code class="docutils literal notranslate"><span class="pre">DOMAIN_WARP</span></code>, and specify two additional required keys
<code class="docutils literal notranslate"><span class="pre">sampler</span></code> and <code class="docutils literal notranslate"><span class="pre">warp</span></code>. As you may have already guessed, both <code class="docutils literal notranslate"><span class="pre">sampler</span></code> and <code class="docutils literal notranslate"><span class="pre">warp</span></code> need to be set to a sampler config,
similar to how <a class="reference external" href="#fractal-noise">fractalizers</a> accept an input sampler:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DOMAIN_WARP</span><span class="w"></span>
<span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"> </span><span class="c1"># Noise config to be warped</span><span class="w"></span>
<span class="nt">warp</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"> </span><span class="c1"># Warp noise config</span><span class="w"></span>
</pre></div>
</div>
<p>Additionally, we can specify <code class="docutils literal notranslate"><span class="pre">amplitude</span></code> which determines how much the sampler defined in <code class="docutils literal notranslate"><span class="pre">sampler</span></code> will be warped by
the <code class="docutils literal notranslate"><span class="pre">warp</span></code> sampler. Here is an example of a real sampler config which warps low frequency simplex with another simplex
sampler:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DOMAIN_WARP</span><span class="w"></span>
<span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
<span class="w">  </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.005</span><span class="w"></span>
<span class="nt">warp</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
<span class="nt">amplitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
</pre></div>
</div>
<p>Again it’s recommended that you try out this sampler config in the <a class="reference external" href="#noise-tool">Noise Tool</a> and see what changing each
parameter does - What happens if you use <code class="docutils literal notranslate"><span class="pre">WHITE_NOISE</span></code> as a warp sampler instead?</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Under The Hood - The Math Behind Domain Warping<div class="sd-summary-down docutils">
<svg aria-hidden="true" class="sd-octicon sd-octicon-chevron-down" height="1.5em" version="1.1" viewbox="0 0 24 24" width="1.5em"><path d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z" fill-rule="evenodd"></path></svg></div>
<div class="sd-summary-up docutils">
<svg aria-hidden="true" class="sd-octicon sd-octicon-chevron-up" height="1.5em" version="1.1" viewbox="0 0 24 24" width="1.5em"><path d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z" fill-rule="evenodd"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">To get an in depth understanding of what’s happening, let’s explain the formula that is used to achieve domain warping:</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<ul class="simple">
<li><p class="sd-card-text">We will define <code class="docutils literal notranslate"><span class="pre">sampler(coordinate)</span></code> as our sampler to be warped, where <code class="docutils literal notranslate"><span class="pre">coordinate</span></code> represents the input values
(such as the familiar <cite>X</cite> and <cite>Z</cite> coordinates).</p></li>
<li><p class="sd-card-text">To <em>translate</em> <code class="docutils literal notranslate"><span class="pre">sampler</span></code>, we can simply add some translation to the input: <code class="docutils literal notranslate"><span class="pre">sampler(coordinate</span> <span class="pre">+</span> <span class="pre">translation)</span></code>.
Translating simply means moving left / right / up / down / etc.</p></li>
<li><p class="sd-card-text">We can then define <code class="docutils literal notranslate"><span class="pre">warp_sampler(coordinate)</span></code> as our warping sampler.</p></li>
<li><p class="sd-card-text">If we make <code class="docutils literal notranslate"><span class="pre">translation</span></code> our <code class="docutils literal notranslate"><span class="pre">warp_sampler</span></code> sampler then now the <code class="docutils literal notranslate"><span class="pre">coordinate</span></code> of <code class="docutils literal notranslate"><span class="pre">sampler</span></code> will be translated by
<code class="docutils literal notranslate"><span class="pre">warp_sampler</span></code> like so:</p></li>
</ul>
<p class="sd-card-text"><cite>sampler(coordinate + warp_sampler(coordinate))</cite></p>
<ul class="simple">
<li><p class="sd-card-text">Finally, we can multiply the output of <code class="docutils literal notranslate"><span class="pre">warp_sampler</span></code> by a value <code class="docutils literal notranslate"><span class="pre">amplitude</span></code>, which will control how ‘strong’ the
warping will be, to give us the final formula:</p></li>
</ul>
<p class="sd-card-text"><cite>sampler(coordinate + warp_sampler(coordinate) * amplitude)</cite></p>
<p class="sd-card-text">A detail to note is that there will typically be several copies of <code class="docutils literal notranslate"><span class="pre">warp_sampler</span></code> for each coordinate for the domain,
where each copy is just salted differently. Without this, each coordinate would be warped by the same value, resulting
in translating each axis equally, resulting in anisotropy.</p>
</div>
</div>
</div>
</details></section>
</section>
<section id="sampler-composition">
<h3>Sampler Composition<a class="headerlink" href="#sampler-composition" title="Permalink to this headline">¶</a></h3>
<p>Because some keys such as <code class="docutils literal notranslate"><span class="pre">sampler</span></code> and <code class="docutils literal notranslate"><span class="pre">warp</span></code> accept a sampler config, something we can do is feed a
<a class="reference external" href="#domain-warping">domain warp</a> sampler into another domain warp sampler. In fact, we could feed <strong>any</strong> sampler
into any other one, given it has a parameter that accepts a sampler config. This is incredibly powerful, as it
allows for constructing complex highly configurable systems of samplers. Here is an example where we domain warp some
<a class="reference external" href="#fractalization">fractalized</a> simplex by more fractalized simplex (which has also been domain warped by more…
fractalized simplex!):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DOMAIN_WARP</span><span class="w"></span>
<span class="nt">amplitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span><span class="w"></span>

<span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FBM</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
<span class="w">    </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.002</span><span class="w"></span>

<span class="nt">warp</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DOMAIN_WARP</span><span class="w"></span>
<span class="w">  </span><span class="nt">amplitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>

<span class="w">  </span><span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FBM</span><span class="w"></span>
<span class="w">    </span><span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
<span class="w">      </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.003</span><span class="w"></span>

<span class="w">  </span><span class="nt">warp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FBM</span><span class="w"></span>
<span class="w">    </span><span class="nt">sampler</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPEN_SIMPLEX_2</span><span class="w"></span>
<span class="w">      </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.02</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>Now that you’ve got an idea of <a class="reference external" href="#what-is-noise">what noise is</a>, <a class="reference external" href="#noise-basics">how it works</a>, and a couple ways of
<a class="reference external" href="#configuring-samplers">configuring it</a>, you should now be equipped with the necessary  knowledge to start configuring
your own fancy samplers for use in your own customized world generation! For more information on the available
samplers in Terra, please refer to the <a class="reference internal" href="../../documentation/sampler/index.html"><span class="doc">Sampler Configuration</span></a> page. If you have any
further questions, feel free to ask us in our <a class="reference external" href="https://discord.gg/PXUEbbF">Discord</a>!</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../../documentation/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Config Documentation</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../modifying-existing-pack.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Modifying an Existing Pack</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Terra Contributors |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="../../../_sources/config/development/samplers/index.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Samplers &amp; Noise</a><ul>
<li><a class="reference internal" href="#what-is-noise">What is Noise?</a></li>
<li><a class="reference internal" href="#why-is-noise-important">Why is Noise Important?</a></li>
<li><a class="reference internal" href="#noise-basics">Noise Basics</a><ul>
<li><a class="reference internal" href="#demonstration">Demonstration</a></li>
<li><a class="reference internal" href="#determinism">Determinism</a></li>
<li><a class="reference internal" href="#seeds">Seeds</a></li>
<li><a class="reference internal" href="#flavors-of-noise">Flavors of Noise</a></li>
<li><a class="reference internal" href="#multidimensional-sampling">Multidimensional Sampling</a><ul>
<li><a class="reference internal" href="#higher-dimensions">Higher Dimensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#segmentation">Segmentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#applying-noise-to-world-generation">Applying Noise to World Generation</a><ul>
<li><a class="reference internal" href="#planting-grass">Planting Grass</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coherent-noise">Coherent Noise</a><ul>
<li><a class="reference internal" href="#what-s-the-difference">What’s The Difference?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#noise-segmentation">Noise Segmentation</a></li>
<li><a class="reference internal" href="#generalizing-the-sampler">Generalizing the Sampler</a></li>
<li><a class="reference internal" href="#configuring-samplers">Configuring Samplers</a><ul>
<li><a class="reference internal" href="#sampler-configs">Sampler Configs</a><ul>
<li><a class="reference internal" href="#sampler-parameters">Sampler Parameters</a></li>
<li><a class="reference internal" href="#noise-tool">Noise Tool</a></li>
</ul>
</li>
<li><a class="reference internal" href="#frequency">Frequency</a><ul>
<li><a class="reference internal" href="#in-a-sampler-config">In a Sampler Config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#samplers-in-context">Samplers In Context</a></li>
<li><a class="reference internal" href="#fractalization">Fractalization</a><ul>
<li><a class="reference internal" href="#id8">In a Sampler Config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#domain-warping">Domain Warping</a><ul>
<li><a class="reference internal" href="#id11">In a Sampler Config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sampler-composition">Sampler Composition</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    </body>
</html>